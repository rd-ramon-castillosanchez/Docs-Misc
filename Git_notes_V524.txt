<Subject>
<Conventions>
    In this document as a convention all commands to input
        in the CLI starts with '#' e.g. #cd $HOME, #cd ~
        CLI command:
            #<command>
</Conventions>
Files states
- Working files
- Staging
- Commit
-Merging conflicts
==================
    They appeared when a file has been modified and commited in 2 branches,
    effectvely a file has been updated while also working in a branch, so it 
    different that when the branch was created.

    The error occures when trying to merge a branch with its parent (master or main branch)
    ex.
    1)
    #git switch newbranch
    #vi readme.txt 
     change text
    #git commit -a -m "updating readme.txt file"
    2)
    #git switch masterbranch
    #vi readme.txt 
     change text
    #git commit -a -m "updating readme.txt file" 
    3)
    on the master branch
    #git merge newbranch
    4)
    Merge conflict in readme.txt

    In the masterbranch the file(s) with conflcit will show the changes (inside) 
    in the way:
    while in the masterbranch
    #vi readme.txt
    <<<<<HEAD
    Text on file 
    ========
    Text changed on new files
    >>>>>>>>>>Updatetext

    5) Manually modify readme.txt taking out the extra text inserted by Git and chosing what
    to leave 
    6)
    once readme.txt is manually fixed 
    #git commit -a -m "updating readme.txt file"
*How to rename a branch
    #git branch -m [oldbranch] [newbranch]
*How to change default Main/Master branch
    #git config --global init.defaultBranch main
*How to clone an specific branch from remote
    #git clone <url> --branch <branch> --single-branch <folder>
*How to push for a local repo for the first time
    #git remote add origin git@github.com:<url>.git 
    #git push -u origin master

Git multiple Devs
================
after checking out a local branch , the quicker to merge back to main the better
otherwise keep it updated as often as posible resolving any merging conflicts sonner rather than later
process 
    at least daily 
        from your local branch go to your local master branch
        #git checkout master
        Pull all of the changes to your local master
        #git pull origin master
        Go back to your local working branch
        #git checkout feature/workingon 
        And then merge it with your local master
        #git merge master
    Keep the above until ready to push
    #git push origin master

Cloning
=======
#git clone --recurse-submodules https://github.com/[User/Repository]


<Git workflow>
    - global config
        #git config --global user.name "Ramon Castillo"
        #git config --global user.email ramon@rcastillo.net
        #git config --global credential.helper store
            stores the repo credentials (only do it once when creating the local git)
-Initialize the branch main as main (if needed) if not will leave default as 'Master'
    #git config --global init.default branch main
-Create Repository 
    - #cd to the desired location , once under the directory needed to track (where files are)
    #git init
-Start tracking a file or all
    #git add [filename]
    #git add .
    #git add --all
    #git add -A
-Commit
    Commit all previously added 
    #git commit -m "Comment"
    Add and commit all files in current working directory
    #git commit -am "Comment"
- Amend the description of last commit
    #git commit -m "[new text]" --amend
        *for older commits use interactive rebase
- Add newly changed files without new message (forgot in last commit )
    #git commit --amend --no-edit

-Stop tracking a file
    #git rm --cached [filename]
- File back from commit to stage
    #git restore --staged [filename]
- Check changes in current 
    #git log 
- Creates a branch or queries the existing ones
    #git branch [branchname]
        Creates and switches to a new branches
            #git switch - c [newbranchname]
    #git branch -r (remote) -a (all)
- Query what branches are currently open
    #git branch
- Change (switches) to the working branch
    #git switch[branchtoswitchto]
        Creates and switches to a new branches
            #git switch - c [newbranchname]
    #git checkout
-Update my branch from Origin (brings commits from other contributors)
    #git fetch origin
-Update origin from my branch
    #git push origin main
- Merge a branch into the one swithed to 
    #git merge -m "comment" [branchnametomergeto]
- Delete a local branch
    #git branch -d [branchnametodelete]
-delete a remote branch
    #git push origin --delete [remotebranch]
-Query remote origin
    #git remote -v
-Ignore a file
    create file .gitignore
    https://github.com/github/gitignore


Starting a new github repo from local work in progress:
================================================


Creating a repo in github with a commit will generate undisered issue when git faces unrelated history.
This is because the brandnew repo in github has a initial commit which makes it different
from any local :
It was fixed by cloning the remote and manually rebasing the local.

another posible solution is to run the command
git pull origin main --allow-unrelated-histories.

Better create a new repo in Github with no read.me nor License in ordet to not trigger any initil commit 
and then from the local Repository assuming is already update and witht latest code commited:

#git remote add origin https://github.com/rjcastillos/{newreponame}.git
#git branch -M main
#git push -u origin main

note to avoid any issues normally local repos branch is "master" and github default main one is "main"
so before upload the code rename the local branch
 
#git branch -m master main




</Git workflow>
<Git Flow>
    Main branches
    - Master
    - Develop
    Supporting branches
    -hotfix/
    -feature/
    -bugfix/
    -release/
    -support/
    Tags
    -Version tag prefixes
    After Hotfix is done , Git will merge it into Master and into Develop
    *How to Initialize a GitFlow Repository
        #git flow init
    *How to Initialize a hotfix
        #git flow hotfix start '0.1.1'
        when finished
            #git flow hotfinish '0.1.1'
</Git Flow>
<911 commands>
============
- See all the history commits
    #git log
    #git log --oneline
    #git reflog (all cronologically)
    #git log --graph --decorate --oneline
- config
        #git config --list 
        #git config -l
        #git config --edit --local
        #git config --list --global
        #git config --list --local
-Alias to shorten often run long commands
    #git config --global alias.show3 'log --all --graph'
    #git show3
    #git config --global alias.showld 'log --graph --decorate --oneline'
    #git showld
- History of a file 
 1)Checking out the commit as a branch
    #git checkout -B [branchname] [commithash]
- shows what branch u r on
    #git status
- Query info about branch and remote
	# git branch -av
	#git status -sb
	
- Query the origin
	#git remote show origin (test connection/sec)
	#git remote -v
- Getting help
    #git config -h
    #git help config (linux like Man pages or through browser in Windows)
- Remove a file
    #git rm [filename]
-Rename a file
    #git mv [filename]
- Restore a file that was deleted (it has to be commited to Git before deleted)
    #git restore "[filename]"
-See the changes of a file
    #git diff [filename]
-Restore a file to the previous commit point
    #git restore [filename]
</911 commands>
-Revert a commit
    #git revert [Commit ID shown on log/ hash]
-Reset a commit
    Move the head back and discards any previous commit
    #git reset --hard [Commit ID shown on log] 
    #git push --force origin master
    How to address PUSH error 
    "Updates were rejected because the remote contains work
      that you do not have locally
    #git reset --soft HEAD~1
            Move the head back 1 commmit keeping the changes in stage , ready to be commited again
            this is useful when the origin contains changes that are not local , then you can git pull update 
            your base and continue with your work.
-Putting away current state/chagnes while pulling from origin to later put them back
    #git stash
        pull
    #git stash pop
-Tags
    #git tag -l
    #git tag [tagname] v1.0.0
    #git show v1.0.0
    #git push origin v1.0.0
    delete tag locally
    #git tag -d [tagname]
    delete tag remote 
    #git push origin -d [tagname] 

-Rewritting commits before pusihng or merging code to an up branch
  we can use interactive rebase
   #git rebase -i HEAD~x (x the base parent 'commit' to start range to manipulate)
   Min 4:10 on below for more details
    https://youtu.be/qsTthZi23VE?si=9YRsCEz9VO266yi9 
<Misc>
====
-CherryPick
    Takes a single commit (hash) from a branch (most likely was an error to commit
     there in the first place and applies it to the checkouted branch where u r standing
     #git cherry-pick 26b1f84a
     word of warning in the branch to be deleted you can reset (deleting the "last" wrong commit) or hard reset up to a hash (commit)
	 
	 
-Genarating ssh
C:\Users\A233C1F>ssh-keygen -t ed25519 -C "ramon.castillosanchez@rewe-group.com"
Generating public/private ed25519 key pair.
Enter file in which to save the key (C:\Users\A233C1F/.ssh/id_ed25519):
Created directory 'C:\\Users\\A233C1F/.ssh'.
Enter passphrase (empty for no passphrase):
Enter same passphrase again:
Your identification has been saved in C:\Users\A233C1F/.ssh/id_ed25519
Your public key has been saved in C:\Users\A233C1F/.ssh/id_ed25519.pub
The key fingerprint is:
SHA256:I5ZCvNXpH0q27y6Makx1Sj+ImXS+dmC8XGO+hmsHd+s ramon.castillosanchez@rewe-group.com
The key's randomart image is:
+--[ED25519 256]--+
|                 |
|   .   . .       |
|    o . o        |
|   ..o+o.        |
|   .oX+=S .      |
|    =oO+B=..     |
|   o o &o+..     |
|    o O B..      |
|   ..+.=.*E      |
+----[SHA256]-----+

-Checking ssh
 ssh -T git@gitlab.com


To copy file to the clipboard
C:\Users\A233C1F clip < id_ed25519.pub
</Misc>

<Links Readings & Ref. Material>
================================
-Install Git https://www.git-scm.com/
    on Windows use git bash
-VS code sftp extention
    https://github.com/Natizyskunk/vscode-sftp
</Links Readings & Ref. Material>
Numbering versioning follows https://semver.org/
-Scott Chacon , Github cofounder talk
    https://blog.gitbutler.com/fosdem-git-talk/



<Notes>
-
</Notes>
<versioning history>
v. 1/30/2014
2:20 PM 6/29/2017
2:34 PM 6/30/2017
11:09 AM 4/10/2018
12:50 PM 4/24/2018
01:02 PM 4/25/2018
2:01 PM 5/18/2018
9:20 AM 1/29/2026
1:20 PM 2/9/2026

</versioning history>
</Subject>